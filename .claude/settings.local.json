{
  "permissions": {
    "allow": [
      "WebFetch(domain:github.com)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(gh auth status:*)",
      "Bash(gh auth login:*)",
      "Bash(curl:*)",
      "Bash(nslookup:*)",
      "Bash(git remote add:*)",
      "Bash(ssh-keygen:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nInitial commit: Auto VPN System\n\n- install.sh: one-command VPN node setup with auto geo-detection\n- VLESS + REALITY + Vision \\(Xray-core\\)\n- Optional Hysteria2 \\(UDP/QUIC\\) and Cloudflare WARP\n- TCP BBR, UFW, fail2ban hardening\n- Central web panel \\(Flask\\) for collecting keys from all nodes\n- Auto country/city detection, node naming, QR code generation\n- User management \\(add-user.sh\\)\n- Node heartbeat monitoring\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix 10 bugs found during audit\n\n- Replace YOUR_USER with paradoxcalm everywhere\n- Fix geo API parsing \\(ipinfo/ipapi/ip-api have different field names\\)\n- Move keys.json save after SNI selection \\(was saving empty sni\\)\n- Rename HYSTERIA_ARCH to GO_ARCH \\(fix crash when --warp without --hysteria\\)\n- Fix WARP routing: only route google/netflix/openai/discord, not ALL traffic\n- Fix double registration \\(heartbeat setup was calling API twice\\)\n- Fix openssl process substitution for Hysteria cert generation\n- Remove python3-pip dependency \\(broken on Ubuntu 24.04\\)\n- Secure web panel: add login page with password protection\n- Secure API: /api/nodes now requires API key \\(was public\\)\n- Add log rotation for Xray \\(7 days\\)\n- Add login.html download to install-panel.sh\n- Add logout button to main page\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd minimalist public client page \\(/go\\)\n\n- Clean design: logo, two buttons \\(iOS / Android\\), nothing suspicious\n- No words like VPN/proxy/keys anywhere on the page\n- Auto-picks best available server randomly\n- Copies config to clipboard + redirects to App Store / Play Store\n- Accessible via QR code or shared link \\(yoursite.com/go\\)\n- Admin panel stays at / \\(login required\\)\n- Brand name \"NovaPulse\" â€” looks like cloud SaaS\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(dir:*)",
      "Bash(find:*)",
      "Bash(gh repo edit:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix login: stable secret_key across workers, rebrand to NovaPulse\n\n- secret_key now derived from API_KEY instead of random per worker\n- Renamed all \"Auto VPN\" references to \"NovaPulse\" in login and dashboard\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix x25519 key parsing for Xray v26+\n\nXray v26 changed output format from \"Public key:\" to \"Password:\".\nNow handles both old and new formats.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@37.221.125.124 \"sed -i ''s/www.google.com/www.microsoft.com/g'' /etc/xray/config.json && systemctl restart xray && sleep 2 && ss -tlnp | grep 443 && echo ''SNI changed to microsoft.com, Xray restarted''\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@37.221.125.124 \"curl -sf -X POST http://80.78.243.152/api/nodes/register -H ''Content-Type: application/json'' -H ''Authorization: Bearer kkhoX9sJeiPFT09dCXCNyEV3k9gdXACYhc3i4QGl'' -d ''{\"\"node_name\"\":\"\"DE-Frankfurt\"\",\"\"server_ip\"\":\"\"37.221.125.124\"\",\"\"country_code\"\":\"\"DE\"\",\"\"country_name\"\":\"\"Germany\"\",\"\"city\"\":\"\"Frankfurt\"\",\"\"vless_link\"\":\"\"vless://1c8b946d-7fdf-4250-bf6e-0f545776fff9@37.221.125.124:443?encryption=none&flow=xtls-rprx-vision&security=reality&sni=www.microsoft.com&fp=chrome&pbk=R2qVKTJGjnALSMro_okvEd-Js8tzpUqA8uIZoHZA6HY&sid=8889f45b5ddf2816&type=tcp&headerType=none#DE-Frankfurt\"\"}''\")",
      "WebFetch(domain:ntc.party)",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@37.221.125.124 'cat > /etc/xray/config.json << '\"''\"'XRAYCONF'\"''\"'\n{\n    \"\"log\"\": {\n        \"\"loglevel\"\": \"\"warning\"\",\n        \"\"access\"\": \"\"/var/log/xray/access.log\"\",\n        \"\"error\"\": \"\"/var/log/xray/error.log\"\"\n    },\n    \"\"inbounds\"\": [\n        {\n            \"\"tag\"\": \"\"vless-reality\"\",\n            \"\"listen\"\": \"\"0.0.0.0\"\",\n            \"\"port\"\": 2083,\n            \"\"protocol\"\": \"\"vless\"\",\n            \"\"settings\"\": {\n                \"\"clients\"\": [\n                    {\n                        \"\"id\"\": \"\"1c8b946d-7fdf-4250-bf6e-0f545776fff9\"\",\n                        \"\"email\"\": \"\"default@DE-Frankfurt\"\"\n                    }\n                ],\n                \"\"decryption\"\": \"\"none\"\"\n            },\n            \"\"streamSettings\"\": {\n                \"\"network\"\": \"\"tcp\"\",\n                \"\"security\"\": \"\"reality\"\",\n                \"\"realitySettings\"\": {\n                    \"\"show\"\": false,\n                    \"\"dest\"\": \"\"www.microsoft.com:443\"\",\n                    \"\"xver\"\": 0,\n                    \"\"serverNames\"\": [\n                        \"\"www.microsoft.com\"\"\n                    ],\n                    \"\"privateKey\"\": \"\"-KUAKz0tp5-IOtcehSIXy0OEdhvXLrOGKraipNgjNmA\"\",\n                    \"\"shortIds\"\": [\n                        \"\"8889f45b5ddf2816\"\",\n                        \"\"\"\"\n                    ]\n                }\n            },\n            \"\"sniffing\"\": {\n                \"\"enabled\"\": true,\n                \"\"destOverride\"\": [\n                    \"\"http\"\",\n                    \"\"tls\"\",\n                    \"\"quic\"\"\n                ]\n            }\n        }\n    ],\n    \"\"outbounds\"\": [\n        {\n            \"\"tag\"\": \"\"direct\"\",\n            \"\"protocol\"\": \"\"freedom\"\"\n        },\n        {\n            \"\"tag\"\": \"\"block\"\",\n            \"\"protocol\"\": \"\"blackhole\"\"\n        }\n    ],\n    \"\"routing\"\": {\n        \"\"domainStrategy\"\": \"\"IPIfNonMatch\"\",\n        \"\"rules\"\": [\n            {\n                \"\"type\"\": \"\"field\"\",\n                \"\"outboundTag\"\": \"\"block\"\",\n                \"\"protocol\"\": [\"\"bittorrent\"\"]\n            },\n            {\n                \"\"type\"\": \"\"field\"\",\n                \"\"outboundTag\"\": \"\"block\"\",\n                \"\"ip\"\": [\"\"geoip:private\"\"]\n            }\n        ]\n    }\n}\nXRAYCONF\n')",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@37.221.125.124 \"ufw allow 2083/tcp && systemctl restart xray && sleep 2 && ss -tlnp | grep 2083\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@37.221.125.124 \"curl -sf -X POST http://80.78.243.152/api/nodes/register -H ''Content-Type: application/json'' -H ''Authorization: Bearer kkhoX9sJeiPFT09dCXCNyEV3k9gdXACYhc3i4QGl'' -d ''{\"\"node_name\"\":\"\"DE-Frankfurt\"\",\"\"server_ip\"\":\"\"37.221.125.124\"\",\"\"country_code\"\":\"\"DE\"\",\"\"country_name\"\":\"\"Germany\"\",\"\"city\"\":\"\"Frankfurt\"\",\"\"vless_link\"\":\"\"vless://1c8b946d-7fdf-4250-bf6e-0f545776fff9@37.221.125.124:2083?encryption=none&security=reality&sni=www.microsoft.com&fp=chrome&pbk=R2qVKTJGjnALSMro_okvEd-Js8tzpUqA8uIZoHZA6HY&sid=8889f45b5ddf2816&type=tcp&headerType=none#DE-Frankfurt\"\"}''\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@37.221.125.124 'cat > /etc/xray/config.json << '\"''\"'EOF'\"''\"'\n{\n    \"\"log\"\": {\n        \"\"loglevel\"\": \"\"warning\"\",\n        \"\"access\"\": \"\"/var/log/xray/access.log\"\",\n        \"\"error\"\": \"\"/var/log/xray/error.log\"\"\n    },\n    \"\"inbounds\"\": [\n        {\n            \"\"tag\"\": \"\"vless-ws\"\",\n            \"\"listen\"\": \"\"127.0.0.1\"\",\n            \"\"port\"\": 10001,\n            \"\"protocol\"\": \"\"vless\"\",\n            \"\"settings\"\": {\n                \"\"clients\"\": [\n                    {\n                        \"\"id\"\": \"\"1c8b946d-7fdf-4250-bf6e-0f545776fff9\"\",\n                        \"\"email\"\": \"\"default@DE-Frankfurt\"\"\n                    }\n                ],\n                \"\"decryption\"\": \"\"none\"\"\n            },\n            \"\"streamSettings\"\": {\n                \"\"network\"\": \"\"ws\"\",\n                \"\"wsSettings\"\": {\n                    \"\"path\"\": \"\"/ws\"\"\n                }\n            },\n            \"\"sniffing\"\": {\n                \"\"enabled\"\": true,\n                \"\"destOverride\"\": [\"\"http\"\", \"\"tls\"\", \"\"quic\"\"]\n            }\n        }\n    ],\n    \"\"outbounds\"\": [\n        {\n            \"\"tag\"\": \"\"direct\"\",\n            \"\"protocol\"\": \"\"freedom\"\"\n        },\n        {\n            \"\"tag\"\": \"\"block\"\",\n            \"\"protocol\"\": \"\"blackhole\"\"\n        }\n    ],\n    \"\"routing\"\": {\n        \"\"domainStrategy\"\": \"\"IPIfNonMatch\"\",\n        \"\"rules\"\": [\n            {\n                \"\"type\"\": \"\"field\"\",\n                \"\"outboundTag\"\": \"\"block\"\",\n                \"\"protocol\"\": [\"\"bittorrent\"\"]\n            },\n            {\n                \"\"type\"\": \"\"field\"\",\n                \"\"outboundTag\"\": \"\"block\"\",\n                \"\"ip\"\": [\"\"geoip:private\"\"]\n            }\n        ]\n    }\n}\nEOF\n')",
      "Bash(ssh:*)"
    ]
  }
}
